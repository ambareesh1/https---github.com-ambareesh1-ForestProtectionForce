<div class="d-flex custom-container ">
  <div class="container align-self-center ">
    <div class="row">
      <div class="card mx-auto shadow" style="max-width: 800px;">
        <div class="card">
          <p-messages [(value)]="messages" [enableService]="false" [closable]="false"></p-messages>
      </div>
        <div class="row">
          <div class="col-md-4 bg-success">
            <p class="p-2 text-white fs-5">This is a privacy note to inform you that access to our platform is
              restricted only to authenticated users.
              We take your privacy and security very seriously, and therefore, we require users to provide valid
              credentials to access the portal.</p>
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="text-bs-gray-700 text-bold fs-4">Login</h5>
              <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                <div class="field mt-3">
                  <label class="p-1 block fs-6">User Name</label>
                  <input type="text" pInputText formControlName="username" class="form-control" />
                  <small class="p-error block"
                    *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.dirty"> User name is
                    required.</small>
                </div>

                <div class="field mt-3">
                  <label class="p-1 block fs-6">Password</label>
                  <input type="password" pInputText formControlName="password" class="form-control" />
                  <small class="p-error block"
                    *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.dirty"> password is
                    required.</small>
                </div>

                <div class="field mt-3">
                  <label class="p-1 block fs-6" for="captcha">Please enter the captcha shown below:</label>
                  <input type="text" pInputText class="form-control mb-2" formControlName="captcha" />
                  <small class="p-error block"
                    *ngIf="loginForm.get('captcha')?.invalid && loginForm.get('captcha')?.dirty"> Captcha is
                    required.</small>
                    <small class="p-error block pb-2"
                    *ngIf="isCapthaNotMatch"> Captcha not 
                    matched. Please retry.</small>
                    <div class="d-flex">
                      <app-captcha #captchaImage class="form-control" style="background: #cddc39c2; width: 90%;"></app-captcha>
                      <button class="btn btn-link" type="button" (click)="refreshCaptcha()">
                       <i class="pi pi-refresh icon-style"> </i>
                      </button>
                    </div>
              
                </div>
                <div class="d-flex align-items-center justify-content-center">
                  <button pButton pRipple type="submit" label="Login"
                    class="p-button-rounded p-button-success text-center mt-3" [disabled]="loginForm.invalid"></button>
                </div>
              </form>
              <div class="text-end">
                <a class="text-success text-decoration-none text-bold fs-5" routerLink="/forgotpassword">Forgot
                  Password</a>
              </div>


            </div>
          </div>
        </div>
      </div>
    </div>
  </div>