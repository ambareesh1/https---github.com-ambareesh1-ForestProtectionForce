<p-card header="Reports">

    <p-card styleClass="mb-2" >
        <div class="row">
            <div class="col-lg-4">
                <div class="field">
                    <label for="ItemDescription" class="block">Select Form</label>
                    <p-dropdown [options]="formsTypes" class="offender-input-width" [(ngModel)]=" formTypeValue"
                        optionLabel="name" (onChange)="onChangeForm()" optionValue="code"></p-dropdown>
                </div>

            </div>
            <div class="col-lg-6">
                <div class="field col-12 md:col-6">
                    <label for="icon">Select Month</label>
                    <p-calendar view="month" dateFormat="mm/yy" [readonlyInput]="true" [(ngModel)]="value"
                        [showIcon]="true" inputId="icon" (ngModelChange)="onMonthChange()" ></p-calendar>
                </div>
            </div>
        </div>
    </p-card>

    <p-table #dt  [value]="FormAReportModel" [scrollable]="true" scrollHeight="600px" styleClass="p-datatable-gridlines">

        <ng-template pTemplate="caption">
            <div class="flex">
                <button type="button" pButton pRipple icon="pi pi-file" (click)="dt.exportCSV()" class="mr-2" pTooltip="CSV" tooltipPosition="bottom"></button>
            
                <button type="button" pButton pRipple icon="pi pi-filter" (click)="dt.exportCSV({ selectionOnly: true })" class="p-button-info ml-auto" pTooltip="Selection Only" tooltipPosition="bottom"></button>
            </div>
        </ng-template>
        <ng-template pTemplate="header" let-columns>
            <tr>
              <th rowspan="2">Items</th>
              <ng-container *ngFor="let header of districts">
                <th colspan="3">{{header.name}}</th>
              </ng-container>
            </tr>
            <tr>
              <ng-container *ngFor="let header of districts">
                <th>Pre</th>
                <th>Dur</th>
                <th>Total</th>
              </ng-container>
            </tr>
          </ng-template>
          
          <ng-template pTemplate="body" let-row>
        
            <tr>
              <td class="font-bold">{{ row.Item }}</td>
              <ng-container *ngFor="let district of districts; let i = index">
                <td>{{ row["District " + (i + 1)].Pre }}</td>
                <td>{{ row["District " + (i + 1)].Dur }}</td>
                <td>{{ row["District " + (i + 1)].Total }}</td>
              </ng-container>
            </tr>
          </ng-template>
        <ng-template pTemplate="footer">
          
        </ng-template>
    </p-table>

</p-card>